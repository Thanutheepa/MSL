#pragma checksum "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "54ec511fc07f574794eca04909e528d8370068dd"
// <auto-generated/>
#pragma warning disable 1591
namespace BlazorServerApp.Pages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using BlazorServerApp;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using BlazorServerApp.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using Blazored.LocalStorage;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using BlazorServerApp.Data;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using ShoppingCart.UseCases.SearchProductScreen;

#line default
#line hidden
#nullable disable
#nullable restore
#line 14 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using ShoppingCart.UseCases.ViewProductScreen;

#line default
#line hidden
#nullable disable
#nullable restore
#line 15 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using ShoppingCart.UseCases.CartScreen;

#line default
#line hidden
#nullable disable
#nullable restore
#line 16 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using ShoppingCart.UseCases.LoginScreen;

#line default
#line hidden
#nullable disable
#nullable restore
#line 17 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using ShoppingCart.CoreBusiness.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 19 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using BlazorServerApp.Controls;

#line default
#line hidden
#nullable disable
#nullable restore
#line 21 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using Radzen;

#line default
#line hidden
#nullable disable
#nullable restore
#line 22 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using Radzen.Blazor;

#line default
#line hidden
#nullable disable
#nullable restore
#line 23 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using ShoppingCart.UseCases.RegisterScreen;

#line default
#line hidden
#nullable disable
#nullable restore
#line 24 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using ShoppingCart.UseCases.FavProductScreen;

#line default
#line hidden
#nullable disable
#nullable restore
#line 26 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using System.IO;

#line default
#line hidden
#nullable disable
#nullable restore
#line 27 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using System.Configuration;

#line default
#line hidden
#nullable disable
#nullable restore
#line 29 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using Microsoft.Extensions.Configuration;

#line default
#line hidden
#nullable disable
#nullable restore
#line 30 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using Microsoft.Extensions.Options;

#line default
#line hidden
#nullable disable
#nullable restore
#line 31 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using System.Web;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/product/{productId:int}")]
    public partial class ViewProduct : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.OpenElement(0, "div");
            __builder.AddAttribute(1, "class", "container topMargin");
            __builder.AddMarkupContent(2, "\r\n    ");
            __builder.OpenElement(3, "div");
            __builder.AddAttribute(4, "class", "row mt-5 mt-md-4");
            __builder.AddMarkupContent(5, "\r\n        ");
            __builder.OpenElement(6, "div");
            __builder.AddAttribute(7, "class", "col-12");
            __builder.AddMarkupContent(8, "\r\n            ");
            __builder.OpenElement(9, "nav");
            __builder.AddAttribute(10, "aria-label", "breadcrumb");
            __builder.AddMarkupContent(11, "\r\n                ");
            __builder.OpenElement(12, "ol");
            __builder.AddAttribute(13, "class", "breadcrumb mb-0");
            __builder.AddMarkupContent(14, "\r\n                    ");
            __builder.OpenElement(15, "li");
            __builder.AddAttribute(16, "class", "breadcrumb-item");
            __builder.OpenComponent<Microsoft.AspNetCore.Components.Routing.NavLink>(17);
            __builder.AddAttribute(18, "href", "/");
            __builder.AddAttribute(19, "class", "bread");
            __builder.AddAttribute(20, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.AddMarkupContent(21, "<i class=\"fas fa-home\"></i> Home");
            }
            ));
            __builder.CloseComponent();
            __builder.CloseElement();
            __builder.AddMarkupContent(22, "\r\n");
#nullable restore
#line 17 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                     if (product != null)
                    {

#line default
#line hidden
#nullable disable
            __builder.AddContent(23, "                        ");
            __builder.OpenElement(24, "li");
            __builder.AddAttribute(25, "class", "breadcrumb-item active");
            __builder.AddAttribute(26, "aria-current", "page");
#nullable restore
#line 19 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
__builder.AddContent(27, product.name);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(28, "\r\n");
#nullable restore
#line 20 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                    }

#line default
#line hidden
#nullable disable
            __builder.AddContent(29, "                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(30, "\r\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(31, "\r\n\r\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(32, "\r\n    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(33, "\r\n");
#nullable restore
#line 26 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
     if (product != null)
    {

#line default
#line hidden
#nullable disable
            __builder.AddContent(34, "        ");
            __builder.OpenElement(35, "div");
            __builder.AddAttribute(36, "class", "row mt-3");
            __builder.AddMarkupContent(37, "\r\n            ");
            __builder.OpenElement(38, "div");
            __builder.AddAttribute(39, "class", "loginBox");
            __builder.AddMarkupContent(40, "\r\n            ");
            __builder.OpenElement(41, "div");
            __builder.AddAttribute(42, "class", "row");
            __builder.AddMarkupContent(43, "\r\n            ");
            __builder.OpenElement(44, "div");
            __builder.AddAttribute(45, "class", "col-md-5");
            __builder.AddMarkupContent(46, "\r\n");
#nullable restore
#line 32 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                 if (product.ImageUrl != null)
                {

#line default
#line hidden
#nullable disable
            __builder.AddContent(47, "                    ");
            __builder.OpenElement(48, "img");
            __builder.AddAttribute(49, "src", 
#nullable restore
#line 34 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                               displayImg

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(50, "class", "productDetailsImage");
            __builder.AddAttribute(51, "data-toggle", "modal");
            __builder.AddAttribute(52, "data-target", "#myModal");
            __builder.CloseElement();
            __builder.AddMarkupContent(53, "\r\n");
#nullable restore
#line 35 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                }
                else
                {

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(54, "                    <img src=\"images/noimg.png\" class=\"productDetailsImage\">\r\n");
#nullable restore
#line 39 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                }

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(55, "\r\n");
#nullable restore
#line 41 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                 if (itemImages != null)
                {

#line default
#line hidden
#nullable disable
            __builder.AddContent(56, "                    ");
            __builder.OpenElement(57, "div");
            __builder.AddAttribute(58, "class", "row mt-2 mb-4");
            __builder.AddMarkupContent(59, "\r\n                        ");
            __builder.OpenElement(60, "div");
            __builder.AddAttribute(61, "class", "col-4 col-lg-3");
            __builder.AddMarkupContent(62, "\r\n                            ");
            __builder.OpenElement(63, "button");
            __builder.AddAttribute(64, "class", "imgBtn");
            __builder.AddAttribute(65, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 45 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                                                             () => changeImg(product.ImageUrl)

#line default
#line hidden
#nullable disable
            ));
            __builder.OpenElement(66, "img");
            __builder.AddAttribute(67, "src", 
#nullable restore
#line 45 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                                                                                                           product.ImageUrl

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(68, "\r\n                        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(69, "\r\n");
#nullable restore
#line 47 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                         foreach (var img in itemImages.imagePath)
                        {

#line default
#line hidden
#nullable disable
            __builder.AddContent(70, "                            ");
            __builder.OpenElement(71, "div");
            __builder.AddAttribute(72, "class", "col-4 col-lg-3");
            __builder.AddMarkupContent(73, "\r\n                                ");
            __builder.OpenElement(74, "button");
            __builder.AddAttribute(75, "class", "imgBtn");
            __builder.AddAttribute(76, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 50 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                                                                 () => changeImg(product.ImageUrl)

#line default
#line hidden
#nullable disable
            ));
            __builder.OpenElement(77, "img");
            __builder.AddAttribute(78, "src", 
#nullable restore
#line 50 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                                                                                                               img

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(79, "\r\n                            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(80, "\r\n");
#nullable restore
#line 52 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                        }

#line default
#line hidden
#nullable disable
            __builder.AddContent(81, "                    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(82, "\r\n");
#nullable restore
#line 54 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                }

#line default
#line hidden
#nullable disable
            __builder.AddContent(83, "            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(84, "\r\n            ");
            __builder.OpenElement(85, "div");
            __builder.AddAttribute(86, "class", "col-md-7 centerCol");
            __builder.AddMarkupContent(87, "\r\n                ");
            __builder.OpenElement(88, "div");
            __builder.AddMarkupContent(89, "\r\n                ");
            __builder.OpenElement(90, "h2");
            __builder.AddAttribute(91, "class", "productTitle mb-3");
#nullable restore
#line 58 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
__builder.AddContent(92, product.name);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(93, "\r\n");
#nullable restore
#line 59 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                 if (appState.currRate != null)
                {
                    

#line default
#line hidden
#nullable disable
#nullable restore
#line 61 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                     if (product.RegularPrice > product.SellingPrice)
                    {

#line default
#line hidden
#nullable disable
            __builder.AddContent(94, "                        ");
            __builder.OpenElement(95, "h4");
            __builder.OpenElement(96, "span");
            __builder.AddAttribute(97, "class", "strik strikeText");
#nullable restore
#line 63 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
__builder.AddContent(98, appState.currRate.CurrencySymbol);

#line default
#line hidden
#nullable disable
#nullable restore
#line 63 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
__builder.AddContent(99, Convert.ToDouble(String.Format("{0:0.00}", @Math.Round(product.RegularPrice / appState.currRate.BuyingRate, 2))).ToString("N"));

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddContent(100, " ");
#nullable restore
#line 63 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
__builder.AddContent(101, appState.currRate.CurrencySymbol);

#line default
#line hidden
#nullable disable
#nullable restore
#line 63 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
__builder.AddContent(102, Convert.ToDouble(String.Format("{0:0.00}", @Math.Round(product.SellingPrice / appState.currRate.BuyingRate, 2))).ToString("N"));

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(103, "\r\n");
#nullable restore
#line 64 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                    }
                    else
                    {
                        

#line default
#line hidden
#nullable disable
#nullable restore
#line 67 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                         if (product.SellingPrice != 0 || product.Weight != 0)
                        {

#line default
#line hidden
#nullable disable
            __builder.AddContent(104, "                            ");
            __builder.OpenElement(105, "h4");
#nullable restore
#line 69 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
__builder.AddContent(106, appState.currRate.CurrencySymbol);

#line default
#line hidden
#nullable disable
#nullable restore
#line 69 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
__builder.AddContent(107, Convert.ToDouble(String.Format("{0:0.00}", @Math.Round(product.SellingPrice / appState.currRate.BuyingRate, 2))).ToString("N"));

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(108, "\r\n");
#nullable restore
#line 70 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                        }

#line default
#line hidden
#nullable disable
#nullable restore
#line 70 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                         
                    }

#line default
#line hidden
#nullable disable
#nullable restore
#line 71 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                     
                }

#line default
#line hidden
#nullable disable
            __builder.AddContent(109, "                ");
            __builder.OpenElement(110, "p");
            __builder.AddAttribute(111, "class", "mt-3");
#nullable restore
#line 73 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
__builder.AddContent(112, product.Description);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(113, "\r\n");
#nullable restore
#line 74 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                 if (product.CurrentStock > 0)
                {
                    

#line default
#line hidden
#nullable disable
#nullable restore
#line 76 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                                                              
                }

#line default
#line hidden
#nullable disable
            __builder.AddContent(114, "                ");
            __builder.OpenElement(115, "p");
            __builder.AddContent(116, "SKU: ");
#nullable restore
#line 78 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
__builder.AddContent(117, product.ItemCode);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(118, "\r\n");
#nullable restore
#line 79 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                 if (product.CurrentStock == 0 && selectedOutletId > 0)
                {

#line default
#line hidden
#nullable disable
            __builder.AddContent(119, "                    ");
            __builder.AddMarkupContent(120, "<p>Out of Stock</p>\r\n");
#nullable restore
#line 82 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                }

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(121, "\r\n");
#nullable restore
#line 84 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                 if (maxReached)
                {

#line default
#line hidden
#nullable disable
            __builder.AddContent(122, "                    ");
            __builder.OpenElement(123, "p");
            __builder.AddAttribute(124, "class", "text-danger m-0 p-0");
            __builder.AddContent(125, "Maximum is ");
#nullable restore
#line 86 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
__builder.AddContent(126, product.MaxQtyPurchase);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(127, "\r\n");
#nullable restore
#line 87 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                }

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(128, "\r\n");
#nullable restore
#line 89 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                 if (product.CurrentStock == 0 && appState.selectedOutletId > 0)
                {

#line default
#line hidden
#nullable disable
            __builder.AddContent(129, "                    ");
            __builder.AddMarkupContent(130, "<button class=\"btn btn-success addToCartBtn disabled\" disabled>Add to cart</button>\r\n");
#nullable restore
#line 92 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                }
                else
                {
                    

#line default
#line hidden
#nullable disable
#nullable restore
#line 95 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                     if (cartService.IsAdded(product))
                    {
                        //<button class="btn btn-success addToCartBtn" @onclick="AddToCart"><i class="far fa-check-circle"></i> Add to cart</button>

#line default
#line hidden
#nullable disable
            __builder.AddContent(131, "                        ");
            __builder.OpenElement(132, "div");
            __builder.AddAttribute(133, "class", "countBtnCon2");
            __builder.AddMarkupContent(134, "\r\n                            ");
            __builder.OpenElement(135, "div");
            __builder.AddAttribute(136, "class", "countBtnCon");
            __builder.AddMarkupContent(137, "\r\n                                ");
            __builder.OpenElement(138, "button");
            __builder.AddAttribute(139, "class", "minusBtn");
            __builder.AddAttribute(140, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 100 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                                                                   MinusProduct

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(141, "-");
            __builder.CloseElement();
            __builder.AddMarkupContent(142, "\r\n                                ");
            __builder.OpenElement(143, "font");
#nullable restore
#line 101 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
__builder.AddContent(144, productQty);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(145, "\r\n                                ");
            __builder.OpenElement(146, "button");
            __builder.AddAttribute(147, "class", "plusBtn");
            __builder.AddAttribute(148, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 102 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                                                                  PlusProduct

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(149, "+");
            __builder.CloseElement();
            __builder.AddMarkupContent(150, "\r\n                            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(151, "\r\n                        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(152, "\r\n");
#nullable restore
#line 105 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                    }
                    else
                    {
                        

#line default
#line hidden
#nullable disable
#nullable restore
#line 108 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                         if (product.SellingPrice == 0 && product.Weight == 0)
                        {

#line default
#line hidden
#nullable disable
            __builder.AddContent(153, "                            ");
            __builder.OpenElement(154, "button");
            __builder.AddAttribute(155, "class", "btn btn-success addToCartBtn");
            __builder.AddAttribute(156, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 110 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                                                                                   ShowMsg

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(157, "Add to cart");
            __builder.CloseElement();
            __builder.AddMarkupContent(158, "\r\n");
#nullable restore
#line 111 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                        }
                        else
                        {

#line default
#line hidden
#nullable disable
            __builder.AddContent(159, "                            ");
            __builder.OpenElement(160, "button");
            __builder.AddAttribute(161, "class", "btn btn-success addToCartBtn");
            __builder.AddAttribute(162, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 114 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                                                                                   AddToCart

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(163, "Add to cart");
            __builder.CloseElement();
            __builder.AddMarkupContent(164, "\r\n");
#nullable restore
#line 115 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                        }

#line default
#line hidden
#nullable disable
#nullable restore
#line 115 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                         
                    }

#line default
#line hidden
#nullable disable
#nullable restore
#line 116 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                     
                }

#line default
#line hidden
#nullable disable
            __builder.AddContent(165, "                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(166, "\r\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(167, "\r\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(168, "\r\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(169, "\r\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(170, "\r\n");
#nullable restore
#line 123 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
    }

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(171, "\r\n    ");
            __builder.OpenElement(172, "div");
            __builder.AddAttribute(173, "class", "row");
            __builder.AddMarkupContent(174, "\r\n");
#nullable restore
#line 126 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
         if (itemReviews != null)
        {

#line default
#line hidden
#nullable disable
            __builder.AddContent(175, "            ");
            __builder.OpenElement(176, "div");
            __builder.AddAttribute(177, "class", "col-12 mb-4");
            __builder.AddMarkupContent(178, "\r\n                <hr class=\"redLine\">\r\n                ");
            __builder.OpenElement(179, "h2");
            __builder.AddContent(180, "Reviews (");
#nullable restore
#line 130 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
__builder.AddContent(181, itemReviews.Count());

#line default
#line hidden
#nullable disable
            __builder.AddContent(182, ")");
            __builder.CloseElement();
            __builder.AddMarkupContent(183, "\r\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(184, "\r\n            ");
            __builder.OpenElement(185, "div");
            __builder.AddAttribute(186, "class", "col-12 scrollLimit");
            __builder.AddMarkupContent(187, "\r\n");
#nullable restore
#line 133 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                 foreach (var review in itemReviews)
                {

#line default
#line hidden
#nullable disable
            __builder.AddContent(188, "                    ");
            __builder.OpenElement(189, "div");
            __builder.AddAttribute(190, "class", "reviewBox mb-2");
            __builder.AddMarkupContent(191, "\r\n                        ");
            __builder.OpenElement(192, "div");
            __builder.AddAttribute(193, "class", "row");
            __builder.AddMarkupContent(194, "\r\n                            ");
            __builder.OpenElement(195, "div");
            __builder.AddAttribute(196, "class", "col-12");
            __builder.AddMarkupContent(197, "\r\n                                ");
            __builder.OpenElement(198, "p");
            __builder.AddAttribute(199, "class", true);
            __builder.AddMarkupContent(200, "\r\n                                    ");
#nullable restore
#line 139 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
__builder.AddContent(201, review.CustomerName);

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(202, "\r\n");
#nullable restore
#line 140 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                                     if (review.StartCount >= 1 && review.StartCount <= 5)
                                    {

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(203, "                                        <i class=\"fas fa-star\"></i>\r\n");
#nullable restore
#line 143 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                                    }
                                    else
                                    {

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(204, "                                        <i class=\"far fa-star\"></i>\r\n");
#nullable restore
#line 147 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                                    }

#line default
#line hidden
#nullable disable
#nullable restore
#line 148 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                                     if (review.StartCount >= 2 && review.StartCount <= 5)
                                    {

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(205, "                                        <i class=\"fas fa-star\"></i>\r\n");
#nullable restore
#line 151 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                                    }
                                    else
                                    {

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(206, "                                        <i class=\"far fa-star\"></i>\r\n");
#nullable restore
#line 155 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                                    }

#line default
#line hidden
#nullable disable
#nullable restore
#line 156 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                                     if (review.StartCount >= 3 && review.StartCount <= 5)
                                    {

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(207, "                                        <i class=\"fas fa-star\"></i>\r\n");
#nullable restore
#line 159 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                                    }
                                    else
                                    {

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(208, "                                        <i class=\"far fa-star\"></i>\r\n");
#nullable restore
#line 163 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                                    }

#line default
#line hidden
#nullable disable
#nullable restore
#line 164 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                                     if (review.StartCount >= 4 && review.StartCount <= 5)
                                    {

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(209, "                                        <i class=\"fas fa-star\"></i>\r\n");
#nullable restore
#line 167 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                                    }
                                    else
                                    {

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(210, "                                        <i class=\"far fa-star\"></i>\r\n");
#nullable restore
#line 171 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                                    }

#line default
#line hidden
#nullable disable
#nullable restore
#line 172 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                                     if (review.StartCount >= 5 && review.StartCount <= 5)
                                    {

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(211, "                                        <i class=\"fas fa-star\"></i>\r\n");
#nullable restore
#line 175 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                                    }
                                    else
                                    {

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(212, "                                        <i class=\"far fa-star\"></i>\r\n");
#nullable restore
#line 179 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                                    }

#line default
#line hidden
#nullable disable
            __builder.AddContent(213, "                                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(214, "\r\n                                ");
            __builder.OpenElement(215, "p");
#nullable restore
#line 181 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
__builder.AddContent(216, review.Review);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(217, "\r\n                            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(218, "\r\n                        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(219, "\r\n                        \r\n                    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(220, "\r\n");
#nullable restore
#line 186 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                }

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(221, "                    <hr class=\"mt-5\">\r\n                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(222, "\r\n");
#nullable restore
#line 189 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
        }
        else
        {

#line default
#line hidden
#nullable disable
            __builder.AddContent(223, "            ");
            __builder.AddMarkupContent(224, "<div class=\"col-12 mb-4\">\r\n                <hr class=\"redLine\">\r\n                <h2>Reviews (0)</h2>\r\n            </div>\r\n");
#nullable restore
#line 196 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
        }

#line default
#line hidden
#nullable disable
            __builder.AddContent(225, "    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(226, "\r\n");
            __builder.CloseElement();
            __builder.AddMarkupContent(227, "\r\n\r\n");
            __builder.OpenComponent<BlazorServerApp.Controls.LatestProducts>(228);
            __builder.AddAttribute(229, "newProducts", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Collections.Generic.IEnumerable<ShoppingCart.CoreBusiness.Models.Product>>(
#nullable restore
#line 243 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                             newProducts

#line default
#line hidden
#nullable disable
            ));
            __builder.CloseComponent();
            __builder.AddMarkupContent(230, "\r\n\r\n");
            __builder.OpenElement(231, "div");
            __builder.AddAttribute(232, "class", "modal");
            __builder.AddAttribute(233, "id", "myModal");
            __builder.AddMarkupContent(234, "\r\n    ");
            __builder.OpenElement(235, "div");
            __builder.AddAttribute(236, "class", "modal-dialog");
            __builder.AddMarkupContent(237, "\r\n        ");
            __builder.OpenElement(238, "div");
            __builder.AddAttribute(239, "class", "modal-content");
            __builder.AddMarkupContent(240, "\r\n            ");
            __builder.AddMarkupContent(241, "<button type=\"button\" class=\"close modalCloseBtn\" data-dismiss=\"modal\">&times;</button>\r\n            ");
            __builder.OpenElement(242, "img");
            __builder.AddAttribute(243, "src", 
#nullable restore
#line 249 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
                       displayImg

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(244, "width", "100%");
            __builder.CloseElement();
            __builder.AddMarkupContent(245, "\r\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(246, "\r\n    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(247, "\r\n");
            __builder.CloseElement();
        }
        #pragma warning restore 1998
#nullable restore
#line 254 "O:\Bellvantage\MSL\BlazorServerApp\Pages\ViewProduct.razor"
       

    private IEnumerable<Product> newProducts { get; set; }
    private List<ItemReviews> itemReviews { get; set; }
    private int selectedOutletId;
    private Product product;
    private List<CartItem> cartProducts;
    private ItemImages itemImages { get; set; }
    private bool addToCartStatus = false;
    private User user;
    private int productQty = 1;
    private bool maxReached = false;
    private int reviewsCount = 0;
    private int ratingStarCount = 0;
    private string displayImg {get;set;} = "";
    private string star1 = "far";
    private string star2 = "far";
    private string star3 = "far";
    private string star4 = "far";
    private string star5 = "far";
    private string reviewText = "";
    private string userName = "";

    [Parameter]
    public int ProductId { get; set; }

    protected override void OnInitialized()
    {
        appState.OnChange += StateHasChanged;
    }

    public void Dispose()
    {
        appState.OnChange -= StateHasChanged;
    }

    protected override async Task OnParametersSetAsync()
    {
        base.OnParametersSet();
        //product = (await productService.GetProductById(ProductId)).ToList().ElementAt(0);

        selectedOutletId = appState.selectedOutletId;
        newProducts = (await productService.GetNewProductsByOutletId(selectedOutletId)).ToList();
        itemReviews = (await productService.GetItemReviews(ProductId)).ToList();
        itemImages = (await productService.GetItemImages(ProductId));
        if (selectedOutletId > 0)
        {
            product = (await productService.GetProductByIdAndOutletId(selectedOutletId, ProductId));
        }
        else
        {
            product = (await productService.GetProductById(ProductId)).ToList().ElementAt(0);
        }
        displayImg = product.ImageUrl;
        StateHasChanged();
    }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            user = await localStore.GetItemAsync<User>("user");
            await JSRuntime.InvokeAsync<object>("NavBarFixed");
            await JSRuntime.InvokeAsync<object>("Star");
            StateHasChanged();
        }
    }

    private void changeImg(string image)
    {
        displayImg = image;
    }

    private async void AddToCart()
    {
        if (appState.selectedOutletId > 0)
        {
            if (productQty == 0)
                productQty = 1;

            var cartItem = new CartItem(product, productQty);
            cartProducts = cartService.AddToCart(cartItem);
            appState.SetCartItemCount(cartService.GetTotalCount());
            StateHasChanged();
            addToCartStatus = true;
            SaveCart();
        }
        else
        {
            await JSRuntime.InvokeAsync<object>("ErrorAlert", "error", "", "Please select an outlet");
        }
    }

    private async void MinusProduct()
    {
        if (appState.selectedOutletId > 0)
        {
            if (productQty > 1)
            {
                productQty--;
                AddToCart();
            }
            else if (productQty == 1)
            {
                RemoveFromCart(product);
                addToCartStatus = false;
            }
            maxReached = false;
        }
        else
        {
            await JSRuntime.InvokeAsync<object>("ErrorAlert", "error", "", "Please select an outlet");
        }
    }

    private async void PlusProduct()
    {
        if (appState.selectedOutletId > 0)
        {
            if (productQty < product.MaxQtyPurchase)
            {
                productQty++;
                AddToCart();
            }
            else if (productQty == product.MaxQtyPurchase)
            {
                maxReached = true;
            }
        }
        else
        {
            await JSRuntime.InvokeAsync<object>("ErrorAlert", "error", "", "Please select an outlet");
        }
    }

    private async void SaveCart()
    {
        if (user != null)
        {
            await localStore.SetItemAsync("cart-"+user.CustomerId, cartProducts);
        }
        else
        {
            await localStore.SetItemAsync("cart-0", cartProducts);
        }
    }

    private void RemoveFromCart(Product product)
    {
        cartProducts = cartService.RemoveFromCartItem(product);
        appState.SetCartItemCount(cartService.GetTotalCount());
        SaveCart();
    }

    private void RatingCountChange(int i)
    {
        star1 = "far";  star2 = "far"; star3 = "far"; star4 = "far"; star5 = "far";
        ratingStarCount = i;
        if (i == 1)
        {
            star1 = "fas";
        }
        else if(i == 2)
        {
            star1 = "fas";
            star2 = "fas";
        }
        else if(i == 3)
        {
            star1 = "fas";
            star2 = "fas";
            star3 = "fas";
        }
        else if(i == 4)
        {
            star1 = "fas";
            star2 = "fas";
            star3 = "fas";
            star4 = "fas";
        }
        else if(i == 5)
        {
            star1 = "fas";
            star2 = "fas";
            star3 = "fas";
            star4 = "fas";
            star5 = "fas";
        }
    }

    private async void ShowMsg()
    {
        await JSRuntime.InvokeAsync<object>("ErrorAlert", "error", "", "This Item Can't be Ordered Online!");
    }

    private void SubmitReview()
    {
    }


#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IJSRuntime JSRuntime { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private AppState appState { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private NavigationManager NavManager { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private ICartService cartService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IProductService productService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private ILocalStorageService localStore { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IViewProduct viewProduct { get; set; }
    }
}
#pragma warning restore 1591
