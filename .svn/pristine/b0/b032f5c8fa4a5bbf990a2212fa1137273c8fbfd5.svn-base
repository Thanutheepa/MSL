#pragma checksum "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "ece494d104d7145d67312c39a82a47547dcb9438"
// <auto-generated/>
#pragma warning disable 1591
namespace BlazorServerApp.Pages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using BlazorServerApp;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using BlazorServerApp.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using Blazored.LocalStorage;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using BlazorServerApp.Data;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using ShoppingCart.UseCases.SearchProductScreen;

#line default
#line hidden
#nullable disable
#nullable restore
#line 14 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using ShoppingCart.UseCases.ViewProductScreen;

#line default
#line hidden
#nullable disable
#nullable restore
#line 15 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using ShoppingCart.UseCases.CartScreen;

#line default
#line hidden
#nullable disable
#nullable restore
#line 16 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using ShoppingCart.UseCases.LoginScreen;

#line default
#line hidden
#nullable disable
#nullable restore
#line 17 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using ShoppingCart.CoreBusiness.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 19 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using BlazorServerApp.Controls;

#line default
#line hidden
#nullable disable
#nullable restore
#line 21 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using Radzen;

#line default
#line hidden
#nullable disable
#nullable restore
#line 22 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using Radzen.Blazor;

#line default
#line hidden
#nullable disable
#nullable restore
#line 23 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using ShoppingCart.UseCases.RegisterScreen;

#line default
#line hidden
#nullable disable
#nullable restore
#line 24 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using ShoppingCart.UseCases.FavProductScreen;

#line default
#line hidden
#nullable disable
#nullable restore
#line 26 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using System.IO;

#line default
#line hidden
#nullable disable
#nullable restore
#line 27 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using System.Configuration;

#line default
#line hidden
#nullable disable
#nullable restore
#line 29 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using Microsoft.Extensions.Configuration;

#line default
#line hidden
#nullable disable
#nullable restore
#line 30 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using Microsoft.Extensions.Options;

#line default
#line hidden
#nullable disable
#nullable restore
#line 31 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using System.Web;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/checkout")]
    public partial class Checkout : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.OpenElement(0, "div");
            __builder.AddAttribute(1, "class", "container topMargin mb-5");
            __builder.AddMarkupContent(2, "\r\n    ");
            __builder.OpenElement(3, "div");
            __builder.AddAttribute(4, "class", "row");
            __builder.AddMarkupContent(5, "\r\n        ");
            __builder.OpenElement(6, "div");
            __builder.AddAttribute(7, "class", "col-12");
            __builder.AddMarkupContent(8, "\r\n            ");
            __builder.OpenElement(9, "nav");
            __builder.AddAttribute(10, "aria-label", "breadcrumb");
            __builder.AddMarkupContent(11, "\r\n                ");
            __builder.OpenElement(12, "ol");
            __builder.AddAttribute(13, "class", "breadcrumb mb-0");
            __builder.AddMarkupContent(14, "\r\n                    ");
            __builder.OpenElement(15, "li");
            __builder.AddAttribute(16, "class", "breadcrumb-item");
            __builder.OpenComponent<Microsoft.AspNetCore.Components.Routing.NavLink>(17);
            __builder.AddAttribute(18, "href", "/");
            __builder.AddAttribute(19, "class", "bread");
            __builder.AddAttribute(20, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.AddMarkupContent(21, "<i class=\"fas fa-home\"></i> Home");
            }
            ));
            __builder.CloseComponent();
            __builder.CloseElement();
            __builder.AddMarkupContent(22, "\r\n                    ");
            __builder.AddMarkupContent(23, "<li class=\"breadcrumb-item active\" aria-current=\"page\">Checkout</li>\r\n                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(24, "\r\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(25, "\r\n\r\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(26, "\r\n    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(27, "\r\n    ");
            __builder.AddMarkupContent(28, "<div class=\"row\">\r\n        <div class=\"col-12 text-center py-5\">\r\n            <h1 class=\"mainTitles\">CHECKOUT</h1>\r\n        </div>\r\n    </div>\r\n    ");
            __builder.OpenElement(29, "div");
            __builder.AddAttribute(30, "class", "container");
            __builder.AddMarkupContent(31, "\r\n        ");
            __builder.OpenElement(32, "div");
            __builder.AddAttribute(33, "class", "row fullHeight");
            __builder.AddMarkupContent(34, "\r\n            ");
            __builder.OpenElement(35, "div");
            __builder.AddAttribute(36, "class", "col-md-8");
            __builder.AddMarkupContent(37, "\r\n\r\n                ");
            __builder.OpenElement(38, "div");
            __builder.AddAttribute(39, "class", "loginBox loginBoxDeli mb-4 py-4");
            __builder.AddMarkupContent(40, "\r\n");
#nullable restore
#line 37 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                     if (orderStatus)
                    {

#line default
#line hidden
#nullable disable
            __builder.AddContent(41, "                        ");
            __builder.AddMarkupContent(42, "<div class=\"alert alert-success\" role=\"alert\">\r\n                            Order Successful!\r\n                        </div>\r\n");
#nullable restore
#line 42 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                    }

#line default
#line hidden
#nullable disable
            __builder.AddContent(43, "                    ");
            __builder.OpenElement(44, "div");
            __builder.AddAttribute(45, "class", "row");
            __builder.AddMarkupContent(46, "\r\n                        ");
            __builder.AddMarkupContent(47, "<div class=\"col-12\">\r\n                            <h5><b>Delivery Method</b></h5>\r\n                        </div>\r\n                        ");
            __builder.OpenElement(48, "div");
            __builder.AddAttribute(49, "class", "col-12 mt-2 mb-2");
            __builder.AddMarkupContent(50, "\r\n                            ");
            __builder.OpenElement(51, "div");
            __builder.AddAttribute(52, "class", "form-check-inline");
            __builder.AddMarkupContent(53, "\r\n                                ");
            __builder.OpenElement(54, "label");
            __builder.AddAttribute(55, "class", "form-check-label");
            __builder.AddMarkupContent(56, "\r\n                                    <img src=\"images/Icons/Delivery.png\" class=\"smallIcons\"> ");
            __builder.OpenElement(57, "input");
            __builder.AddAttribute(58, "type", "radio");
            __builder.AddAttribute(59, "class", "form-check-input");
            __builder.AddAttribute(60, "name", "deliType");
            __builder.AddAttribute(61, "checked", 
#nullable restore
#line 56 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                                                                                                                                                       deliveryType==1

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(62, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 56 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                                                                                                                                                                                   () => DeliveryTypeSelect(1)

#line default
#line hidden
#nullable disable
            ));
            __builder.CloseElement();
            __builder.AddMarkupContent(63, " Doorstep Delivery (Within 3/5 Days)\r\n                                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(64, "\r\n                            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(65, "\r\n                            ");
            __builder.OpenElement(66, "div");
            __builder.AddAttribute(67, "class", "form-check-inline ml-md-5 mt-2 mt-md-0");
            __builder.AddMarkupContent(68, "\r\n                                ");
            __builder.OpenElement(69, "label");
            __builder.AddAttribute(70, "class", "form-check-label");
            __builder.AddMarkupContent(71, "\r\n                                    <img src=\"images/Icons/Pickup.png\" class=\"smallIcons\"> ");
            __builder.OpenElement(72, "input");
            __builder.AddAttribute(73, "type", "radio");
            __builder.AddAttribute(74, "class", "form-check-input");
            __builder.AddAttribute(75, "name", "deliType");
            __builder.AddAttribute(76, "checked", 
#nullable restore
#line 61 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                                                                                                                                                     deliveryType==2

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(77, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 61 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                                                                                                                                                                                 () => DeliveryTypeSelect(2)

#line default
#line hidden
#nullable disable
            ));
            __builder.CloseElement();
            __builder.AddMarkupContent(78, " Customer Pick Up\r\n                                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(79, "\r\n                            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(80, "\r\n                        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(81, "\r\n                    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(82, "\r\n");
#nullable restore
#line 66 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                     if (deliveryOption > 0)
                    {

#line default
#line hidden
#nullable disable
            __builder.AddContent(83, "                        ");
            __builder.OpenElement(84, "div");
            __builder.AddAttribute(85, "class", "row mt-4");
            __builder.AddMarkupContent(86, "\r\n                            ");
            __builder.AddMarkupContent(87, @"<div class=""col-12"">
                                <h5><b>Delivery Option</b></h5>
                                <p class=""text-danger mb-0"">*Note: If you are under quarantine, please select 'Leave at door/gate' option.</p>
                            </div>
                            ");
            __builder.OpenElement(88, "div");
            __builder.AddAttribute(89, "class", "col-12 mt-2 mb-2");
            __builder.AddMarkupContent(90, "\r\n                                ");
            __builder.OpenElement(91, "div");
            __builder.AddAttribute(92, "class", "form-check-inline");
            __builder.AddMarkupContent(93, "\r\n                                    ");
            __builder.OpenElement(94, "label");
            __builder.AddAttribute(95, "class", "form-check-label");
            __builder.AddMarkupContent(96, "\r\n                                        <img src=\"images/Icons/Meet at door.png\" class=\"smallIcons\"> ");
            __builder.OpenElement(97, "input");
            __builder.AddAttribute(98, "type", "radio");
            __builder.AddAttribute(99, "class", "form-check-input");
            __builder.AddAttribute(100, "name", "deliOption");
            __builder.AddAttribute(101, "checked", 
#nullable restore
#line 82 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                                                                                                                                                                 deliveryOption==2

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(102, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 82 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                                                                                                                                                                                               () => DeliveryOptionSelect(2)

#line default
#line hidden
#nullable disable
            ));
            __builder.CloseElement();
            __builder.AddMarkupContent(103, " Meet at door/gate\r\n                                    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(104, "\r\n                                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(105, "\r\n                                ");
            __builder.OpenElement(106, "div");
            __builder.AddAttribute(107, "class", "form-check-inline ml-md-5 mt-2 mt-md-0");
            __builder.AddMarkupContent(108, "\r\n                                    ");
            __builder.OpenElement(109, "label");
            __builder.AddAttribute(110, "class", "form-check-label");
            __builder.AddMarkupContent(111, "\r\n                                        <img src=\"images/Icons/Customer.png\" class=\"smallIcons\"> ");
            __builder.OpenElement(112, "input");
            __builder.AddAttribute(113, "type", "radio");
            __builder.AddAttribute(114, "class", "form-check-input");
            __builder.AddAttribute(115, "name", "deliOption");
            __builder.AddAttribute(116, "checked", 
#nullable restore
#line 87 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                                                                                                                                                             deliveryOption==1

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(117, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 87 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                                                                                                                                                                                           () => DeliveryOptionSelect(1)

#line default
#line hidden
#nullable disable
            ));
            __builder.CloseElement();
            __builder.AddMarkupContent(118, " Leave at door/gate (Contactless Delivery)\r\n                                    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(119, "\r\n                                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(120, "\r\n                            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(121, "\r\n                        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(122, "\r\n");
#nullable restore
#line 92 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                    }

#line default
#line hidden
#nullable disable
            __builder.AddContent(123, "                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(124, "\r\n\r\n                ");
            __builder.OpenElement(125, "div");
            __builder.AddAttribute(126, "class", "loginBox");
            __builder.AddMarkupContent(127, "\r\n                    ");
            __builder.OpenElement(128, "div");
            __builder.AddAttribute(129, "class", "row");
            __builder.AddMarkupContent(130, "\r\n                        ");
            __builder.AddMarkupContent(131, "<div class=\"col-12 mb-2\">\r\n                            <h5><b>Customer Details</b></h5>\r\n                        </div>\r\n                        ");
            __builder.OpenElement(132, "div");
            __builder.AddAttribute(133, "class", "col-md-12 mb-2");
            __builder.AddMarkupContent(134, "\r\n");
#nullable restore
#line 101 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                             if (appState.user == null)
                            {

#line default
#line hidden
#nullable disable
            __builder.AddContent(135, "                                ");
            __builder.AddMarkupContent(136, "<a href=\"/login/Checkout\"><button class=\"btn checkoutLoginBtns\">Login</button></a>\r\n                                ");
            __builder.AddMarkupContent(137, "<a href=\"/register\"><button class=\"btn checkoutLoginBtns\">Register</button></a>\r\n");
#nullable restore
#line 105 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                            }

#line default
#line hidden
#nullable disable
            __builder.AddContent(138, "                        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(139, "\r\n                        ");
            __builder.OpenElement(140, "div");
            __builder.AddAttribute(141, "class", "col-md-6");
            __builder.AddMarkupContent(142, "\r\n                            ");
            __builder.OpenElement(143, "div");
            __builder.AddAttribute(144, "class", "form-group");
            __builder.AddMarkupContent(145, "\r\n                                ");
            __builder.AddMarkupContent(146, "<label for=\"userName\">Name<span class=\"text-danger\">*</span></label>\r\n                                ");
            __builder.OpenElement(147, "input");
            __builder.AddAttribute(148, "type", "text");
            __builder.AddAttribute(149, "disabled", 
#nullable restore
#line 110 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                                                                validated

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(150, "class", "form-control checkoutForm");
            __builder.AddAttribute(151, "id", "userName");
            __builder.AddAttribute(152, "placeholder", "Enter name");
            __builder.AddAttribute(153, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 110 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                                                name

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(154, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => name = __value, name));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.AddMarkupContent(155, "\r\n                            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(156, "\r\n                        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(157, "\r\n                        ");
            __builder.OpenElement(158, "div");
            __builder.AddAttribute(159, "class", "col-md-6");
            __builder.AddMarkupContent(160, "\r\n                            ");
            __builder.OpenElement(161, "div");
            __builder.AddAttribute(162, "class", "form-group");
            __builder.AddMarkupContent(163, "\r\n                                ");
            __builder.AddMarkupContent(164, "<label for=\"nic\">Email<span class=\"text-danger\">*</span></label>\r\n                                ");
            __builder.OpenElement(165, "input");
            __builder.AddAttribute(166, "type", "email");
            __builder.AddAttribute(167, "disabled", 
#nullable restore
#line 116 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                                                                      validated

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(168, "class", "form-control checkoutForm");
            __builder.AddAttribute(169, "id", "userEmail");
            __builder.AddAttribute(170, "placeholder", "Enter email");
            __builder.AddAttribute(171, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 116 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                                                 userEmail

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(172, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => userEmail = __value, userEmail));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.AddMarkupContent(173, "\r\n                            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(174, "\r\n                        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(175, "\r\n                        ");
            __builder.OpenElement(176, "div");
            __builder.AddAttribute(177, "class", "col-md-6");
            __builder.AddMarkupContent(178, "\r\n                            ");
            __builder.OpenElement(179, "div");
            __builder.AddAttribute(180, "class", "form-group");
            __builder.AddMarkupContent(181, "\r\n                                ");
            __builder.AddMarkupContent(182, "<label for=\"nic\">Phone<span class=\"text-danger\">*</span></label>\r\n                                ");
            __builder.OpenElement(183, "input");
            __builder.AddAttribute(184, "type", "text");
            __builder.AddAttribute(185, "disabled", 
#nullable restore
#line 122 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                                                                 validated

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(186, "class", "form-control checkoutForm");
            __builder.AddAttribute(187, "id", "nic");
            __builder.AddAttribute(188, "placeholder", "Enter phone");
            __builder.AddAttribute(189, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 122 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                                                phone

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(190, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => phone = __value, phone));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.AddMarkupContent(191, "\r\n                            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(192, "\r\n                        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(193, "\r\n                    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(194, "\r\n");
#nullable restore
#line 126 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                     if (deliveryType == 1)
                    {
                        

#line default
#line hidden
#nullable disable
#nullable restore
#line 128 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                         if (ShippingAddress != null)
                        {

#line default
#line hidden
#nullable disable
            __builder.AddContent(195, "                            ");
            __builder.OpenElement(196, "div");
            __builder.AddAttribute(197, "class", "row mb-2");
            __builder.AddMarkupContent(198, "\r\n                                ");
            __builder.AddMarkupContent(199, "<div class=\"col-12\">\r\n                                    <p class=\"mb-2\">Select an Address</p>\r\n                                </div>\r\n\r\n");
#nullable restore
#line 135 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                 foreach (var address in ShippingAddress)
                                {

#line default
#line hidden
#nullable disable
            __builder.AddContent(200, "                                    ");
            __builder.OpenElement(201, "div");
            __builder.AddAttribute(202, "class", "col-12 col-md-3 px-1");
            __builder.AddMarkupContent(203, "\r\n");
#nullable restore
#line 138 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                         if (!validated)
                                        {

#line default
#line hidden
#nullable disable
            __builder.AddContent(204, "                                            ");
            __builder.OpenElement(205, "div");
            __builder.AddAttribute(206, "class", "addressBox" + " " + (
#nullable restore
#line 140 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                                                     selectedAddress == address ? "active" : ""

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(207, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 140 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                                                                                                            () => SetAddress(address)

#line default
#line hidden
#nullable disable
            ));
            __builder.AddMarkupContent(208, "\r\n                                                ");
            __builder.OpenElement(209, "p");
            __builder.AddAttribute(210, "class", "mb-0");
            __builder.AddMarkupContent(211, "<i class=\"fas fa-home\"></i> ");
#nullable restore
#line 141 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
__builder.AddContent(212, address.FullAddress);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(213, "\r\n                                            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(214, "\r\n");
#nullable restore
#line 143 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                        }
                                        else
                                        {

#line default
#line hidden
#nullable disable
            __builder.AddContent(215, "                                            ");
            __builder.OpenElement(216, "div");
            __builder.AddAttribute(217, "class", "addressBox" + " " + (
#nullable restore
#line 146 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                                                     selectedAddress == address ? "active" : ""

#line default
#line hidden
#nullable disable
            ));
            __builder.AddMarkupContent(218, "\r\n                                                ");
            __builder.OpenElement(219, "p");
            __builder.AddAttribute(220, "class", "mb-0");
            __builder.AddMarkupContent(221, "<i class=\"fas fa-home\"></i> ");
#nullable restore
#line 147 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
__builder.AddContent(222, address.FullAddress);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(223, "\r\n                                            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(224, "\r\n");
#nullable restore
#line 149 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                        }

#line default
#line hidden
#nullable disable
            __builder.AddContent(225, "                                    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(226, "\r\n");
#nullable restore
#line 151 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                }

#line default
#line hidden
#nullable disable
#nullable restore
#line 152 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                 if (appState.user != null)
                                {

#line default
#line hidden
#nullable disable
            __builder.AddContent(227, "                                    ");
            __builder.OpenElement(228, "div");
            __builder.AddAttribute(229, "class", "col-12 col-md-3 px-1");
            __builder.AddMarkupContent(230, "\r\n                                        ");
            __builder.OpenComponent<Microsoft.AspNetCore.Components.Routing.NavLink>(231);
            __builder.AddAttribute(232, "href", "/MyShippingAddress/set");
            __builder.AddAttribute(233, "class", "linkHover");
            __builder.AddAttribute(234, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.AddMarkupContent(235, "\r\n                                            ");
                __builder2.AddMarkupContent(236, "<div class=\"addressBox\">\r\n                                                <p class=\"mb-0\"><i class=\"fas fa-plus\"></i> Add a New Address</p>\r\n                                            </div>\r\n                                        ");
            }
            ));
            __builder.CloseComponent();
            __builder.AddMarkupContent(237, "\r\n                                    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(238, "\r\n");
#nullable restore
#line 161 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                }
                                else
                                {

#line default
#line hidden
#nullable disable
            __builder.AddContent(239, "                                    ");
            __builder.OpenElement(240, "div");
            __builder.AddAttribute(241, "class", "col-12 col-md-3 px-1");
            __builder.AddMarkupContent(242, "\r\n                                        ");
            __builder.OpenComponent<Microsoft.AspNetCore.Components.Routing.NavLink>(243);
            __builder.AddAttribute(244, "href", "/login/NewAddress");
            __builder.AddAttribute(245, "class", "linkHover");
            __builder.AddAttribute(246, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.AddMarkupContent(247, "\r\n                                            ");
                __builder2.AddMarkupContent(248, "<div class=\"addressBox\">\r\n                                                <p class=\"mb-0\"><i class=\"fas fa-plus\"></i> Add a New Address (Login)</p>\r\n                                            </div>\r\n                                        ");
            }
            ));
            __builder.CloseComponent();
            __builder.AddMarkupContent(249, "\r\n                                    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(250, "\r\n");
#nullable restore
#line 171 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                }

#line default
#line hidden
#nullable disable
            __builder.AddContent(251, "                            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(252, "\r\n");
#nullable restore
#line 173 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                        }

#line default
#line hidden
#nullable disable
            __builder.AddContent(253, "                        ");
            __builder.OpenElement(254, "div");
            __builder.AddAttribute(255, "class", "form-group");
            __builder.AddMarkupContent(256, "\r\n                            ");
            __builder.AddMarkupContent(257, "<label for=\"userAddress\">Address<span class=\"text-danger\">*</span></label>\r\n                            ");
            __builder.OpenElement(258, "textarea");
            __builder.AddAttribute(259, "class", "form-control checkoutForm");
            __builder.AddAttribute(260, "disabled", 
#nullable restore
#line 177 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                                                                  validated

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(261, "id", "userAddress");
            __builder.AddAttribute(262, "placeholder", "Address");
            __builder.AddAttribute(263, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 177 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                                                                                                                          address

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(264, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => address = __value, address));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.AddMarkupContent(265, "\r\n                        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(266, "\r\n                        ");
            __builder.OpenElement(267, "div");
            __builder.AddAttribute(268, "class", "row");
            __builder.AddMarkupContent(269, "\r\n                            ");
            __builder.OpenElement(270, "div");
            __builder.AddAttribute(271, "class", "col-md-6");
            __builder.AddMarkupContent(272, "\r\n                                ");
            __builder.OpenElement(273, "div");
            __builder.AddAttribute(274, "class", "form-group");
            __builder.AddMarkupContent(275, "\r\n                                    ");
            __builder.AddMarkupContent(276, "<label for=\"userCity\">City<span class=\"text-danger\">*</span></label>\r\n                                    ");
            __builder.OpenElement(277, "input");
            __builder.AddAttribute(278, "type", "text");
            __builder.AddAttribute(279, "disabled", 
#nullable restore
#line 183 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                                                                    validated

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(280, "class", "form-control checkoutForm");
            __builder.AddAttribute(281, "id", "userName");
            __builder.AddAttribute(282, "placeholder", "Enter city");
            __builder.AddAttribute(283, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 183 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                                                    city

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(284, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => city = __value, city));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.AddMarkupContent(285, "\r\n                                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(286, "\r\n                            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(287, "\r\n                            ");
            __builder.OpenElement(288, "div");
            __builder.AddAttribute(289, "class", "col-md-6");
            __builder.AddMarkupContent(290, "\r\n                                ");
            __builder.OpenElement(291, "div");
            __builder.AddAttribute(292, "class", "form-group");
            __builder.AddMarkupContent(293, "\r\n                                    ");
            __builder.AddMarkupContent(294, "<label for=\"userPostalCode\">Country<span class=\"text-danger\">*</span></label>\r\n                                    ");
            __builder.OpenComponent<Radzen.Blazor.RadzenDropDown<string>>(295);
            __builder.AddAttribute(296, "AllowClear", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 189 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                                                true

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(297, "disabled", 
#nullable restore
#line 189 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                                                                                validated

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(298, "FilterCaseSensitivity", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Radzen.FilterCaseSensitivity>(
#nullable restore
#line 189 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                                                                                                                 FilterCaseSensitivity.CaseInsensitive

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(299, "AllowFiltering", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 189 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                                                                                                                                                                        true

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(300, "Style", "width:100%");
            __builder.AddAttribute(301, "Placeholder", "Select Country *");
            __builder.AddAttribute(302, "Data", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Collections.IEnumerable>(
#nullable restore
#line 190 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                                                                         countryList

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(303, "TextProperty", "CountryName");
            __builder.AddAttribute(304, "ValueProperty", "CountryCode");
            __builder.AddAttribute(305, "Change", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<System.Object>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<System.Object>(this, 
#nullable restore
#line 190 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                                                                                                                                                    OnCountryChange

#line default
#line hidden
#nullable disable
            )));
            __builder.AddAttribute(306, "Value", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Object>(
#nullable restore
#line 190 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                                                                                                                                                                                 country

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(307, "ValueChanged", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<string>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<string>(this, global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.CreateInferredEventCallback(this, __value => country = __value, country))));
            __builder.AddAttribute(308, "ValueExpression", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Linq.Expressions.Expression<System.Func<string>>>(() => country));
            __builder.CloseComponent();
            __builder.AddMarkupContent(309, "\r\n                                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(310, "\r\n                            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(311, "\r\n                            ");
            __builder.OpenElement(312, "div");
            __builder.AddAttribute(313, "class", "col-md-6");
            __builder.AddMarkupContent(314, "\r\n                                ");
            __builder.OpenElement(315, "div");
            __builder.AddAttribute(316, "class", "form-group");
            __builder.AddMarkupContent(317, "\r\n                                    ");
            __builder.AddMarkupContent(318, "<label for=\"userCity\">State / Province<span class=\"text-danger\"></span></label>\r\n                                    ");
            __builder.OpenComponent<Radzen.Blazor.RadzenDropDown<string>>(319);
            __builder.AddAttribute(320, "AllowClear", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 196 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                                                true

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(321, "disabled", 
#nullable restore
#line 196 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                                                                                validated

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(322, "FilterCaseSensitivity", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Radzen.FilterCaseSensitivity>(
#nullable restore
#line 196 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                                                                                                                 FilterCaseSensitivity.CaseInsensitive

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(323, "AllowFiltering", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 196 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                                                                                                                                                                        true

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(324, "Style", "width:100%");
            __builder.AddAttribute(325, "Placeholder", "Select State / Province *");
            __builder.AddAttribute(326, "Data", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Collections.IEnumerable>(
#nullable restore
#line 197 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                                                                                  stateList

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(327, "TextProperty", "StateName");
            __builder.AddAttribute(328, "ValueProperty", "StateCode");
            __builder.AddAttribute(329, "Change", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<System.Object>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<System.Object>(this, 
#nullable restore
#line 197 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                                                                                                                                                       OnChangeState

#line default
#line hidden
#nullable disable
            )));
            __builder.AddAttribute(330, "Value", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Object>(
#nullable restore
#line 197 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                                                                                                                                                                                  province

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(331, "ValueChanged", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<string>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<string>(this, global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.CreateInferredEventCallback(this, __value => province = __value, province))));
            __builder.AddAttribute(332, "ValueExpression", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Linq.Expressions.Expression<System.Func<string>>>(() => province));
            __builder.CloseComponent();
            __builder.AddMarkupContent(333, "\r\n                                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(334, "\r\n                            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(335, "\r\n                            ");
            __builder.OpenElement(336, "div");
            __builder.AddAttribute(337, "class", "col-md-6");
            __builder.AddMarkupContent(338, "\r\n                                ");
            __builder.OpenElement(339, "div");
            __builder.AddAttribute(340, "class", "form-group");
            __builder.AddMarkupContent(341, "\r\n                                    ");
            __builder.AddMarkupContent(342, "<label for=\"userPostalCode\">ZIP Code<span class=\"text-danger\"></span></label>\r\n                                    ");
            __builder.OpenElement(343, "input");
            __builder.AddAttribute(344, "type", "text");
            __builder.AddAttribute(345, "disabled", 
#nullable restore
#line 203 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                                                                          validated

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(346, "class", "form-control checkoutForm");
            __builder.AddAttribute(347, "id", "userPostalCode");
            __builder.AddAttribute(348, "placeholder", "Enter postal code");
            __builder.AddAttribute(349, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 203 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                                                    postalCode

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(350, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => postalCode = __value, postalCode));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.AddMarkupContent(351, "\r\n                                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(352, "\r\n                            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(353, "\r\n                        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(354, "\r\n");
#nullable restore
#line 207 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                    }

#line default
#line hidden
#nullable disable
            __builder.AddContent(355, "                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(356, "\r\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(357, "\r\n            ");
            __builder.OpenElement(358, "div");
            __builder.AddAttribute(359, "class", "col-md-4 mt-4 mt-md-0");
            __builder.AddMarkupContent(360, "\r\n                ");
            __builder.OpenElement(361, "div");
            __builder.AddAttribute(362, "class", "summeryBox");
            __builder.AddMarkupContent(363, "\r\n                    ");
            __builder.AddMarkupContent(364, "<h2>Order Summary</h2>\r\n                    ");
            __builder.OpenElement(365, "div");
            __builder.AddAttribute(366, "class", "row");
            __builder.AddMarkupContent(367, "\r\n                        ");
            __builder.OpenElement(368, "div");
            __builder.AddAttribute(369, "class", "col-12 d-flex");
            __builder.AddMarkupContent(370, "\r\n                            ");
            __builder.OpenElement(371, "div");
            __builder.AddAttribute(372, "class", "form-group");
            __builder.AddMarkupContent(373, "\r\n                                ");
            __builder.AddMarkupContent(374, "<label for=\"userName\">Coupon Code</label>\r\n                                ");
            __builder.OpenElement(375, "input");
            __builder.AddAttribute(376, "type", "text");
            __builder.AddAttribute(377, "disabled", 
#nullable restore
#line 217 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                                                                  validated

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(378, "class", "form-control checkoutForm");
            __builder.AddAttribute(379, "id", "userName");
            __builder.AddAttribute(380, "placeholder", "Enter coupon code");
            __builder.AddAttribute(381, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 217 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                                                coupon

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(382, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => coupon = __value, coupon));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.AddMarkupContent(383, "\r\n                            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(384, "\r\n                            ");
            __builder.OpenElement(385, "button");
            __builder.AddAttribute(386, "class", "btn couponBtn");
            __builder.AddAttribute(387, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 219 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                                                    AddCoupon

#line default
#line hidden
#nullable disable
            ));
            __builder.AddMarkupContent(388, "<i class=\"fas fa-plus\"></i>");
            __builder.CloseElement();
            __builder.AddMarkupContent(389, "\r\n                        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(390, "\r\n                        ");
            __builder.OpenElement(391, "div");
            __builder.AddAttribute(392, "class", "col-12");
            __builder.AddMarkupContent(393, "\r\n");
#nullable restore
#line 222 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                             if (discountStatus == -1)
                            {

#line default
#line hidden
#nullable disable
            __builder.AddContent(394, "                                ");
            __builder.AddMarkupContent(395, "<p class=\"text-danger m-0\">No Discount!</p>\r\n");
#nullable restore
#line 225 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                            }
                            else if (discountStatus == 1)
                            {

#line default
#line hidden
#nullable disable
            __builder.AddContent(396, "                                ");
            __builder.AddMarkupContent(397, "<p class=\"text-success m-0\">Coupon Added!</p>\r\n");
#nullable restore
#line 229 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                            }

#line default
#line hidden
#nullable disable
            __builder.AddContent(398, "                        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(399, "\r\n                    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(400, "\r\n                    <hr>\r\n");
#nullable restore
#line 233 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                     if (appState.currRate != null)
                    {
                        

#line default
#line hidden
#nullable disable
#nullable restore
#line 235 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                         if (cartProducts != null)
                        {

#line default
#line hidden
#nullable disable
            __builder.AddContent(401, "                            ");
            __builder.OpenElement(402, "h5");
            __builder.AddContent(403, "Total Items: ");
            __builder.OpenElement(404, "font");
            __builder.AddAttribute(405, "class", "text-right float-right");
#nullable restore
#line 237 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
__builder.AddContent(406, cartService.GetTotalCount());

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(407, "\r\n                            ");
            __builder.OpenElement(408, "h5");
            __builder.AddContent(409, "Delivery Fee: ");
            __builder.OpenElement(410, "font");
            __builder.AddAttribute(411, "class", "text-right float-right");
#nullable restore
#line 238 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
__builder.AddContent(412, appState.currRate.CurrencySymbol);

#line default
#line hidden
#nullable disable
#nullable restore
#line 238 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
__builder.AddContent(413, Convert.ToDouble(String.Format("{0:0.00}", @Math.Round(@deliveryFee / appState.currRate.BuyingRate, 2))).ToString("N"));

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(414, "\r\n                            ");
            __builder.OpenElement(415, "h5");
            __builder.AddContent(416, "Item Total: ");
            __builder.OpenElement(417, "font");
            __builder.AddAttribute(418, "class", "text-right float-right");
#nullable restore
#line 239 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
__builder.AddContent(419, appState.currRate.CurrencySymbol);

#line default
#line hidden
#nullable disable
#nullable restore
#line 239 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
__builder.AddContent(420, Convert.ToDouble(String.Format("{0:0.00}", @Math.Round(total / appState.currRate.BuyingRate, 2))).ToString("N"));

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(421, "\r\n");
#nullable restore
#line 240 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                             if (discount > 0)
                            {

#line default
#line hidden
#nullable disable
            __builder.AddContent(422, "                                ");
            __builder.OpenElement(423, "h5");
            __builder.AddContent(424, "Discount: ");
            __builder.OpenElement(425, "font");
            __builder.AddAttribute(426, "class", "text-right float-right");
#nullable restore
#line 242 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
__builder.AddContent(427, appState.currRate.CurrencySymbol);

#line default
#line hidden
#nullable disable
#nullable restore
#line 242 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
__builder.AddContent(428, Convert.ToDouble(String.Format("{0:0.00}", @Math.Round(discount / appState.currRate.BuyingRate, 2))).ToString("N"));

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(429, "\r\n");
#nullable restore
#line 243 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                            }

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(430, "                            <hr>\r\n                            ");
            __builder.OpenElement(431, "h2");
            __builder.OpenElement(432, "b");
            __builder.AddContent(433, "Total: ");
            __builder.OpenElement(434, "font");
            __builder.AddAttribute(435, "class", "text-right float-right");
#nullable restore
#line 245 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
__builder.AddContent(436, appState.currRate.CurrencySymbol);

#line default
#line hidden
#nullable disable
#nullable restore
#line 245 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
__builder.AddContent(437, Convert.ToDouble(String.Format("{0:0.00}", @Math.Round(fullTotal / appState.currRate.BuyingRate, 2))).ToString("N"));

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(438, "\r\n");
#nullable restore
#line 246 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                        }
                        else
                        {

#line default
#line hidden
#nullable disable
            __builder.AddContent(439, "                            ");
            __builder.AddMarkupContent(440, "<p>Total Items: <font class=\"text-right float-right\">0</font></p>\r\n                            ");
            __builder.AddMarkupContent(441, "<h3>Total: <font class=\"text-right float-right\">$0</font></h3>\r\n");
#nullable restore
#line 251 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                        }

#line default
#line hidden
#nullable disable
#nullable restore
#line 251 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                         
                    }

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(442, "                    <hr>\r\n                    ");
            __builder.AddMarkupContent(443, "<h5><b>Payment Method</b></h5>\r\n                    ");
            __builder.OpenElement(444, "div");
            __builder.AddAttribute(445, "class", "form-check mt-3 pl-0 mb-2");
            __builder.AddMarkupContent(446, "\r\n                        ");
            __builder.OpenElement(447, "label");
            __builder.AddAttribute(448, "class", "form-check-label");
            __builder.AddMarkupContent(449, "\r\n                            <img src=\"images/Icons/CashPayments.png\" class=\"smallIcons mr-4\"> ");
            __builder.OpenElement(450, "input");
            __builder.AddAttribute(451, "type", "radio");
            __builder.AddAttribute(452, "class", "form-check-input marginTopRadio");
            __builder.AddAttribute(453, "name", "pType");
            __builder.AddAttribute(454, "checked", 
#nullable restore
#line 263 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                                                                                                                                                                    paymentType==1

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(455, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 263 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                                                                                                                                                                                               () => PaymentSelect(1)

#line default
#line hidden
#nullable disable
            ));
            __builder.CloseElement();
            __builder.AddMarkupContent(456, " Cash On Delivery\r\n                        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(457, "\r\n                    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(458, "\r\n                    ");
            __builder.OpenElement(459, "div");
            __builder.AddAttribute(460, "class", "form-check pl-0 mb-3");
            __builder.AddMarkupContent(461, "\r\n                        ");
            __builder.OpenElement(462, "label");
            __builder.AddAttribute(463, "class", "form-check-label");
            __builder.AddMarkupContent(464, "\r\n                            <img src=\"images/Icons/CardPayments.png\" class=\"smallIcons mr-4\"> ");
            __builder.OpenElement(465, "input");
            __builder.AddAttribute(466, "type", "radio");
            __builder.AddAttribute(467, "class", "form-check-input marginTopRadio");
            __builder.AddAttribute(468, "name", "pType");
            __builder.AddAttribute(469, "checked", 
#nullable restore
#line 268 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                                                                                                                                                                    paymentType==2

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(470, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 268 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                                                                                                                                                                                               () => PaymentSelect(2)

#line default
#line hidden
#nullable disable
            ));
            __builder.CloseElement();
            __builder.AddMarkupContent(471, " Card Payment\r\n                        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(472, "\r\n                    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(473, "\r\n                    ");
            __builder.OpenElement(474, "div");
            __builder.AddAttribute(475, "class", "form-check");
            __builder.AddMarkupContent(476, "\r\n                        ");
            __builder.OpenElement(477, "label");
            __builder.AddAttribute(478, "class", "form-check-label termsText");
            __builder.AddMarkupContent(479, "\r\n                            ");
            __builder.OpenElement(480, "input");
            __builder.AddAttribute(481, "type", "checkbox");
            __builder.AddAttribute(482, "class", "form-check-input");
            __builder.AddAttribute(483, "checked", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 277 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                                                                    agreed

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(484, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => agreed = __value, agreed));
            __builder.SetUpdatesAttributeName("checked");
            __builder.CloseElement();
            __builder.AddMarkupContent(485, "<span class=\"text-danger\">I have read and agree to the website</span> ");
            __builder.OpenComponent<Microsoft.AspNetCore.Components.Routing.NavLink>(486);
            __builder.AddAttribute(487, "href", "/termsConditions");
            __builder.AddAttribute(488, "class", "text-dark");
            __builder.AddAttribute(489, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.AddContent(490, "terms and conditions");
            }
            ));
            __builder.CloseComponent();
            __builder.AddMarkupContent(491, "<span class=\"text-danger\">*</span>\r\n                        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(492, "\r\n                    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(493, "\r\n");
#nullable restore
#line 280 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                     if (!checkedOut)
                    {

#line default
#line hidden
#nullable disable
            __builder.AddContent(494, "                        ");
            __builder.OpenElement(495, "button");
            __builder.AddAttribute(496, "class", "btn checkoutBtn w-100 mt-4");
            __builder.AddAttribute(497, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 282 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                                                             HandleCheckout

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(498, "PROCEED TO PAYMENT");
            __builder.CloseElement();
            __builder.AddMarkupContent(499, "\r\n");
            __builder.AddContent(500, "                        ");
            __builder.OpenElement(501, "p");
            __builder.AddAttribute(502, "class", "text-center mt-2");
            __builder.OpenComponent<Microsoft.AspNetCore.Components.Routing.NavLink>(503);
            __builder.AddAttribute(504, "href", 
#nullable restore
#line 284 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                                                                     $"/allproducts/-1"

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(505, "class", "redText link");
            __builder.AddAttribute(506, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.AddContent(507, "Continue Shopping");
            }
            ));
            __builder.CloseComponent();
            __builder.CloseElement();
            __builder.AddMarkupContent(508, "\r\n");
#nullable restore
#line 285 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                    }
                    else
                    {

#line default
#line hidden
#nullable disable
            __builder.AddContent(509, "                        ");
            __builder.AddMarkupContent(510, "<div class=\"row\">\r\n                            <div class=\"col-12 text-center\">\r\n                                <img src=\"images/Loading.gif\" width=\"50\">\r\n                            </div>\r\n                        </div>\r\n");
#nullable restore
#line 293 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                    }

#line default
#line hidden
#nullable disable
            __builder.AddContent(511, "                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(512, "\r\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(513, "\r\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(514, "\r\n    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(515, "\r\n");
            __builder.CloseElement();
        }
        #pragma warning restore 1998
#nullable restore
#line 300 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
       

    private List<CartItem> cartProducts = new List<CartItem>();
    private List<Product> products;
    private List<ListOrderDetail> listOrderDetail;
    private List<Address> ShippingAddress = new List<Address>();
    private string billingAdd { get; set; } = "";
    private Address BillingAddress { get; set; }
    private Address selectedAddress { get; set; }
    private int selectedOutletId;
    private string name = "";
    private string phone = "";
    private string userEmail = "";
    private string address = "";
    private string note = "";
    private string city = "";
    private string province = "";
    private string postalCode = "";
    private string country = "";
    private bool orderStatus = false;
    private int paymentType = 2;
    private int deliveryType = 1;
    private int deliveryOption = 2;
    private string coupon = "";
    private double total;
    private double fullTotal;
    private double discount = 0;
    private int discountStatus;
    private double deliveryFee;
    private double totalWeight = 0;
    private User user;
    private RegisterUser userRegister = new RegisterUser();
    private string response = "";
    private bool agreed { get; set; } = false;
    private bool checkedOut { get; set; } = false;
    private bool validated { get; set; } = false;
    private string paymentLink { get; set; }
    private double abhimanaDiscount = 0;

    private List<Country> countryList { get; set; }
    private List<State> stateList { get; set; }


    protected override void OnInitialized()
    {
        appState.OnChange += StateHasChanged;
        base.OnInitialized();
    }

    public void Dispose()
    {
        appState.OnChange -= StateHasChanged;
    }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await JSRuntime.InvokeAsync<object>("NavBarFixed");
            countryList = new List<Country>();
            countryList = (await apiService.GetCountries()).ToList();
            selectedOutletId = appState.selectedOutletId;
            user = await localStore.GetItemAsync<User>("user");
            SetCart();
            if (user != null)
            {
                var registeruser = Task.Run(async () => await ProfileService.GetCustomer(user.CustomerId));
                userRegister = registeruser.Result;

                if (userRegister != null)
                {
                    name = userRegister.CustomerFirstName + " " + userRegister.CustomerLastName;
                    phone = userRegister.CustomerMobileNo;
                    userEmail = userRegister.CustomerEmailAddress;
                    GetUserAddress(user.CustomerId);
                }

                cartProducts = await localStore.GetItemAsync<List<CartItem>>("cart-" + user.CustomerId);
            }
            else
            {
                cartProducts = await localStore.GetItemAsync<List<CartItem>>("cart-0");
            }

            if (cartProducts != null)
                cartService.SetCart(cartProducts);
            StateHasChanged();
        }
    }

    private void Validate()
    {
        validated = true;
    }

    private async void HandleCheckout()
    {
        listOrderDetail = cartService.GetCheckoutItems();
        if (listOrderDetail.Count() > 0)
        {
            

#line default
#line hidden
#nullable disable
#nullable restore
#line 401 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                   
            var selectedCountry = "";
            var selectedProvince = "";
            if(country != "" && country != String.Empty && country != null)
            {
                selectedCountry = countryList.Where(a => a.CountryCode == country).FirstOrDefault().CountryName;                
            }
            if(province != "" && province != String.Empty && province != null)
            {
                selectedProvince = stateList.Where(a => a.StateCode == province).FirstOrDefault().StateName;               
            }

            string fullAddress = address + ", " + city + ", " + selectedCountry + ", "+ selectedProvince + ", " + postalCode;
            if (billingAdd == null || billingAdd == "")
            {
                billingAdd = address + ", " + city + " ," + selectedCountry + ", " + selectedProvince + ", " + postalCode;
            }
            if (deliveryType == 1 && (name == String.Empty || name == "" || name == null || phone == String.Empty || phone == "" || phone == null || userEmail == String.Empty || userEmail == "" || userEmail == null || address == String.Empty || address == "" || address == null || city == String.Empty || city == "" || city == null || country == String.Empty || country == null || province == String.Empty || province == null))
            {
                await JSRuntime.InvokeAsync<object>("ErrorAlert", "error", "", "Please fill all the data");
            }
            else if (deliveryType == 2 && (name == String.Empty || name == "" || name == null || phone == String.Empty || phone == "" || phone == null || userEmail == String.Empty || userEmail == "" || userEmail == null ))
            {
                await JSRuntime.InvokeAsync<object>("ErrorAlert", "error", "", "Please fill all the data");
            }
            else if (!phone.All(Char.IsDigit))
            {
                await JSRuntime.InvokeAsync<object>("ErrorAlert", "error", "", "Invalid phone number (Should contain only digits)");
            }
            else if (!agreed)
            {
                await JSRuntime.InvokeAsync<object>("ErrorAlert", "error", "", "Please read and accept the terms and conditions to proceed with your order.");
            }
            else
            {
                checkedOut = true;
                CheckoutCart checkoutCart = cartService.GetCheckout(name, phone, fullAddress, billingAdd, paymentType.ToString(), fullTotal, selectedOutletId, deliveryFee, coupon, discount, deliveryType, deliveryOption);
                await localStore.SetItemAsync("checkout", checkoutCart);
                await localStore.SetItemAsync("userEmail", userEmail);
                await localStore.SetItemAsync("orderType", "normal");
                if (user != null)
                    response = await apiService.Checkout(checkoutCart, user.CustomerId.ToString());
                else
                    response = await apiService.Checkout(checkoutCart, "0");

                var orderId = response.Split(' ')[6];
                orderId = orderId.Remove(orderId.Length - 1);
                await localStore.SetItemAsync("orderId", orderId);

                name = "";
                address = "";
                city = "";
                phone = "";
                userEmail = "";
                postalCode = "";
                orderStatus = true;

                if (paymentType == 2)
                {
                    if(appState.currType == "LKR")
                    { 
                        PaymentSession PaymentResponse = await paymentService.CreateSession(orderId, checkoutCart.TotalAmount, fullAddress);
                        await localStore.SetItemAsync("paymentIndicator", PaymentResponse.successIndicator);

                        await JSRuntime.InvokeAsync<object>("PaymentGateway", PaymentResponse.SessionId.ToString());
                        await JSRuntime.InvokeAsync<object>("Checkout.showPaymentPage");
                        checkedOut = false;
                    }
                    else if(appState.currType == "USD")
                    { 
                        double USDTotal = Math.Round(Convert.ToDouble(checkoutCart.TotalAmount) / appState.currRate.BuyingRate, 2);
                        PaymentSession PaymentResponse = await paymentService.CreateSessionUSD(orderId, USDTotal.ToString(), fullAddress);
                        await localStore.SetItemAsync("paymentIndicator", PaymentResponse.successIndicator);

                        await JSRuntime.InvokeAsync<object>("PaymentGateway", PaymentResponse.SessionId.ToString());
                        await JSRuntime.InvokeAsync<object>("Checkout.showPaymentPage");
                        checkedOut = false;
                    }
                }
                else
                {
                    NavManager.NavigateTo("/paymentSuccess");
                    checkedOut = false;
                }
            }
            

#line default
#line hidden
#nullable disable
#nullable restore
#line 490 "O:\Bellvantage\MSL\BlazorServerApp\Pages\Checkout.razor"
                   
        }
        else
        {
            await JSRuntime.InvokeAsync<object>("ErrorAlert", "error", "", "Cart is empty!");
        }
    }

    private async void AddCoupon()
    {
        if (coupon != null && coupon != "")
        {
            double total = cartService.GetTotal();
            var dis = await apiService.GetDiscount(coupon, total.ToString());
            if (dis == "0.0")
            {
                discountStatus = -1;
                discount = 0;
            }
            else
            {
                discountStatus = 1;
                discount = Convert.ToDouble(dis);
            }
            total = cartService.GetTotal() - discount - abhimanaDiscount;
            fullTotal = total + deliveryFee;
            StateHasChanged();
        }
        else
        {
            await JSRuntime.InvokeAsync<object>("ErrorAlert", "error", "", "Enter Coupon Code!");
        }
    }
    private async void SetCart()
    {
        if (user != null)
        {
            cartProducts = await localStore.GetItemAsync<List<CartItem>>("cart-" + user.CustomerId);
        }
        else
        {
            cartProducts = await localStore.GetItemAsync<List<CartItem>>("cart-0");
        }

        if (cartProducts != null)
        {
            cartService.SetCart(cartProducts);
            appState.SetCartItemCount(cartService.GetTotalCount());
        }
        else
        {
            cartService.EmptyCart();
            appState.SetCartItemCount(0);
        }
        total = cartService.GetTotal();
        fullTotal = total;
        totalWeight = cartService.GetTotalWeight();
        SetDeliveryFee(1);
        StateHasChanged();
    }

    private async void GetUserAddress(int customerId)
    {
        var customershipping = Task.Run(async () => await ProfileService.ShippingAddress(customerId));
        var customerBilling = Task.Run(async () => await ProfileService.BillingAddress(customerId));
        ShippingAddress = customershipping.Result;
        BillingAddress = customerBilling.Result;
        if (ShippingAddress.Count() > 0)
        {
            SetAddress(ShippingAddress[0]);
        }
        if (BillingAddress != null)
        {
            billingAdd = BillingAddress.FullAddress + ", " + BillingAddress.AdCity + ", " + " ," + BillingAddress.Country + "," + BillingAddress.PostalCode;
        }
    }

    private void SetAddress(Address val)
    {
        selectedAddress = val;
        address = val.FullAddress;
        postalCode = val.PostalCode.ToString();
        city = val.AdCity;
        province = val.Province;
        country = val.Country;
        stateList = new List<State>();
        stateList = countryList.Where(a => a.CountryCode == country).FirstOrDefault<Country>().ListState;
        province = val.Province;
        StateHasChanged();
    }

    private async void SetDeliveryFee(int type)
    {
        if (type == 1)
        {
            if (country != string.Empty && country != null)
            {
                //deliveryFee = await apiService.GetDeliveryFeeNormal("1");
                deliveryFee = await apiService.GetDeliveryFee(totalWeight, country, province);
            }
            fullTotal = total + deliveryFee - discount;
        }
        else
        {
            deliveryFee = 0;
            fullTotal = total - discount;
        }
        StateHasChanged();
    }

    private void OnCountryChange()
    {
        stateList = new List<State>();
        province = "";
        deliveryFee = 0;
        fullTotal = total - discount;
        if (country != String.Empty && country != "" && country != null)
        {
            stateList = countryList.Where(a => a.CountryCode == country).FirstOrDefault<Country>().ListState;
        }
    }

    private void OnChangeState()
    {
        SetDeliveryFee(1);
    }

    private void DeliveryTypeSelect(int val)
    {
        deliveryType = val;
        if (deliveryType == 1)
        {
            SetDeliveryFee(1);
            deliveryOption = 2;
        }
        else
        {
            SetDeliveryFee(0);
            deliveryOption = 0;
        }
    }

    private void DeliveryOptionSelect(int val)
    {
        deliveryOption = val;
    }

    private void PaymentSelect(int val)
    {
        paymentType = val;
    }

    public async void ClearCart()
    {
        if (user != null)
        {
            await localStore.RemoveItemAsync("cart-" + user.CustomerId);
        }
        else
        {
            await localStore.RemoveItemAsync("cart-0");
        }
    }


#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IConfiguration Configuration { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private Security security { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IProfileService ProfileService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IPaymentService paymentService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IApiService apiService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IJSRuntime JSRuntime { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private NavigationManager NavManager { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private AppState appState { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private ILocalStorageService localStore { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private ICartService cartService { get; set; }
    }
}
#pragma warning restore 1591
