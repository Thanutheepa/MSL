// <auto-generated/>
#pragma warning disable 1591
#pragma warning disable 0414
#pragma warning disable 0649
#pragma warning disable 0169

namespace BlazorServerApp.Pages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using BlazorServerApp;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using BlazorServerApp.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using Blazored.LocalStorage;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using BlazorServerApp.Data;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using ShoppingCart.UseCases.SearchProductScreen;

#line default
#line hidden
#nullable disable
#nullable restore
#line 14 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using ShoppingCart.UseCases.ViewProductScreen;

#line default
#line hidden
#nullable disable
#nullable restore
#line 15 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using ShoppingCart.UseCases.CartScreen;

#line default
#line hidden
#nullable disable
#nullable restore
#line 16 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using ShoppingCart.UseCases.LoginScreen;

#line default
#line hidden
#nullable disable
#nullable restore
#line 17 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using ShoppingCart.CoreBusiness.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 19 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using BlazorServerApp.Controls;

#line default
#line hidden
#nullable disable
#nullable restore
#line 21 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using Radzen;

#line default
#line hidden
#nullable disable
#nullable restore
#line 22 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using Radzen.Blazor;

#line default
#line hidden
#nullable disable
#nullable restore
#line 23 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using ShoppingCart.UseCases.RegisterScreen;

#line default
#line hidden
#nullable disable
#nullable restore
#line 24 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using ShoppingCart.UseCases.FavProductScreen;

#line default
#line hidden
#nullable disable
#nullable restore
#line 26 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using System.IO;

#line default
#line hidden
#nullable disable
#nullable restore
#line 27 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using System.Configuration;

#line default
#line hidden
#nullable disable
#nullable restore
#line 29 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using Microsoft.Extensions.Configuration;

#line default
#line hidden
#nullable disable
#nullable restore
#line 30 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using Microsoft.Extensions.Options;

#line default
#line hidden
#nullable disable
#nullable restore
#line 31 "O:\Bellvantage\MSL\BlazorServerApp\_Imports.razor"
using System.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "O:\Bellvantage\MSL\BlazorServerApp\Pages\JoinasVolunteer.razor"
using System.Text.RegularExpressions;

#line default
#line hidden
#nullable disable
#nullable restore
#line 14 "O:\Bellvantage\MSL\BlazorServerApp\Pages\JoinasVolunteer.razor"
using System.Globalization;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/joinasVolunteer")]
    public partial class JoinasVolunteer : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
        }
        #pragma warning restore 1998
#nullable restore
#line 225 "O:\Bellvantage\MSL\BlazorServerApp\Pages\JoinasVolunteer.razor"
       
    private string fname = "";
    private string lname = "";
    private string occupation = "";
    private string job = "";
    private string firm = "";

    private int list1 = 1;
    private int list2 = 1;
    private int list3 = 1;

    private string bussinessAdd = "";
    private string residenceAdd = "";
    private string bussinessTel = "";
    private string residenceTel = "";
    private string Fax = "";
    private string Email = "";

    private int contactby = 1;
    private int timetocontact = 1;
    private int heardThrough = 1;

    private string heardfrom = "";
    private string signature = "";
    private DateTime date = DateTime.Today;
    private string formatdate = "";

    protected override void OnInitialized()
    {
        base.OnInitialized();
    }


    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await JSRuntime.InvokeAsync<object>("NavBarFixed");
            StateHasChanged();
        }
    }

    private async void onClick_Submit()
    {
        bool valid = true;
        bool success = false;
        if (fname == string.Empty || fname == null || lname == string.Empty || lname == null || occupation == string.Empty || occupation == null || job == string.Empty || job == null ||
        firm == string.Empty || firm == null || bussinessTel == string.Empty || bussinessTel == null || residenceTel == string.Empty || residenceTel == null || Fax == string.Empty || Fax == null ||
        Email == string.Empty || Email == null || signature == string.Empty || signature == null)
        {
            valid = false;
            await JSRuntime.InvokeAsync<object>("ErrorAlert", "error", "", "Please fill all the required data");
        }
        else if (PhoneValidate(residenceTel) == false)
        {
            valid = false;
            residenceTel = "";
            await JSRuntime.InvokeAsync<object>("ErrorAlert", "error", "", "Invalid Telephone Number (Residence)");
        }
        else if (PhoneValidate(bussinessTel) == false)
        {
            valid = false;
            bussinessTel = "";
            await JSRuntime.InvokeAsync<object>("ErrorAlert", "error", "", "Invalid Telephone Number (Business)");
        }
        else if (EmailValidate(Email) == false)
        {
            valid = false;
            Email = "";
            await JSRuntime.InvokeAsync<object>("ErrorAlert", "error", "", "Invalid Email");
        }

        if (valid)
        {
            var dt = DateTime.ParseExact(date.ToString(), "M/dd/yyyy h:mm:ss tt", CultureInfo.InvariantCulture);
            var formatted = dt.ToString("yyyy/MM/dd");
            formatdate = formatted;

            Volunteer volunteer = new Volunteer();

            volunteer.FirstName = fname;
            volunteer.LastName = lname;
            volunteer.OccupationOrProfession = occupation;
            volunteer.JobOrPosition = job;
            volunteer.FirmOrInstitution = firm;
            volunteer.ActiveOrPreviouslyActive = list1;
            volunteer.WillingCommitTime = list2;
            volunteer.WillingContriFinancially = list3;
            volunteer.BusinessAddress = bussinessAdd;
            volunteer.ResidenceAddress = residenceAdd;
            volunteer.ResidenceContNum = residenceTel;
            volunteer.BusinessContNum = bussinessTel;
            volunteer.FaxNumber = Fax;
            volunteer.EmailAddress = Email;
            volunteer.ContactBy = contactby;
            volunteer.BestTime = timetocontact;
            volunteer.HeardFrom = heardThrough;
            volunteer.HeardFromOther = heardfrom;
            volunteer.Signature = signature;
            volunteer.RegDate = formatdate;



            var registerVolunteer = Task.Run(async () => await SupportService.SaveVolunteer(volunteer));
            string savevolunteers = registerVolunteer.Result;

            if (savevolunteers == "Volunteer created successfully.")
            {
                success = true;
                clear();
                await JSRuntime.InvokeAsync<object>("ErrorAlert", "success", "", " Send successfully");
            }
            else
            {
                success = false;
                clear();
                await JSRuntime.InvokeAsync<object>("ErrorAlert", "error", "", "Error occured while saving. Please try again.");
            }

        }
    }

    private void clear()
    {
        fname = "";
        lname = "";
        occupation = "";
        job = "";
        firm = "";
        list1 = 1;
        list2 = 1;
        list3 = 1;
        bussinessAdd = "";
        residenceAdd = "";
        bussinessTel = "";
        residenceTel = "";
        Fax = "";
        Email = "";
        contactby = 1;
        timetocontact = 1;
        heardThrough = 1;
        heardfrom = "";
        signature = "";
        date = DateTime.Today;
        formatdate = "";
    }

    private bool EmailValidate(string email)
    {

        if (Regex.IsMatch(email, @"\A(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?)\Z", RegexOptions.IgnoreCase))
        {
            return true;
        }
        else return false;
    }

    private bool PhoneValidate(string mobile)
    {
        Regex phone = new Regex("[0-9]{10}");
        if (phone.IsMatch(mobile))
        {
            return true;
        }
        else
        {
            return false;
        }
    }

#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IJSRuntime JSRuntime { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private NotificationService NotificationService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private AppState appState { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private ISupportUsService SupportService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IRegisterService RegisterService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private NavigationManager NavManager { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IFavProduct favProduct { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private ICartService cartService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private ILocalStorageService localStore { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private ILogin login { get; set; }
    }
}
#pragma warning restore 1591
